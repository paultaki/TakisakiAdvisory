"use strict";
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="753521b5-df21-59fe-ac86-82184b8e8b73")}catch(e){}}();
(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[51532],{68503:(e,t,a)=>{a.d(t,{r:()=>d});var n=a(55982),o=a(140524),i=a(806704),r=a(564663);let s=e=>"month"===e.frequency.interval&&1===e.frequency.intervalCount,l=e=>e?.billing?.plan==="hobby";function d(e){let t=(0,r.P)(e?.billing);if(l(e))return{start:(0,n.o)((0,o.e)(t,30)).getTime(),end:(0,i.c)(t).getTime()};let{start:a,end:d}=e?.billing?.subscriptions?.find(s)?.period??e?.billing?.period??{};return{start:a,end:d}}},164824:(e,t,a)=>{a.d(t,{Y:()=>l});var n=a(844538),o=a(468861),i=a(423858),r=a(49166),s=a(358369);function l({endDatetime:e,startDatetime:t,projectId:a,skip:l,buckets:d}){let{isReady:c,team:g}=(0,s.dA)();return(0,n.Ay)(()=>c&&!l&&t&&e&&(!d||d.length)?`${r.esQ}${(0,o.l)({owner_id:g?.id,teamId:g?.id,projectId:a,buckets:d,from:"object"==typeof t?t.toISOString():new Date(t).toISOString(),to:"object"==typeof e?e.toISOString():new Date(e).toISOString()})}`:null,e=>(0,i.ff)(e),{revalidateIfStale:!1,revalidateOnFocus:!1,revalidateOnReconnect:!1,refreshInterval:void 0})}},203840:(e,t,a)=>{a.d(t,{p5:()=>b,Ay:()=>f});var n=a(125229),o=a(176973),i=a(844538),r=a(423858),s=a(49166),l=a(789805),d=a(636026),c=a(358369),g=a(339540),u=a(557932);let m=["DEVELOPER","CONTRIBUTOR"],p=new Map([[l.r.All,[l.r.Read,l.r.Create,l.r.Delete,l.r.Update]],[l.r.Write,[l.r.Create,l.r.Delete,l.r.Update]]]);function f(e,t){let{data:a,error:l}=(0,g.A)(),{teams:p,team:f,isReady:_}=(0,c.dA)(),T=(0,d.S)(),{value:v}=function(){let{team:e,isReady:t}=(0,c.dA)(),{isReady:a,value:n}=(0,u.cz)();return e?.billing?.plan==="pro"?{isReady:a&&t,value:!!n}:e?.billing?.plan==="enterprise"?{isReady:!0,value:!0}:{isReady:!0,value:!1}}(),h=e?.teamId?p?.find(t=>t.id===e.teamId):f,{project:y}=(0,n.useParams)()??{},w=e&&"projectIdOrName"in e?e.projectIdOrName:y,D=!h?.membership?.role||v&&m.includes(h.membership.role),C=(0,i.Ay)(()=>{if(!D||!w||e?.teamId&&!w||!e?.teamId&&!T)return null;let t=new URLSearchParams({projectIdOrName:w});return e?.teamId?t.set("teamId",e.teamId):T&&t.set("slug",T),`${s._Y$}?${t.toString()}`},e=>(0,r.ff)(e,{throwOnHTTPError:!0}),t),I=h?.permissions;D&&w&&(I=C.data?.permissions);let S=(0,o.useMemo)(()=>new Map(Object.entries(I||{})),[I]),k=D&&(w||e&&"projectIdOrName"in e)&&!C.error&&void 0===C.data,P=!l&&void 0===a,R=!!a&&(a?.token.type!=="token"||a.token.scopes?.some(e=>"user"===e.type)||!1),E=!e?.teamId&&_&&!h&&!P&&R,x=!!(h?.merge&&!h.merge.finishedAt)&&"candidate"===h.merge.type,A=(0,o.useCallback)((e,t)=>b(S,E,x)(e,t),[E,S,x]),j=!_||k||!h&&P;return(0,o.useMemo)(()=>({can:A,isLoading:j}),[A,j])}let b=(e,t,a)=>(n,o)=>{if(t)return!0;if(a)return!1;let i=p.get(n)||[n];return!!e.has(o)&&i.every(t=>e.get(o)?.includes(t))}},339540:(e,t,a)=>{a.d(t,{A:()=>r});var n=a(423858),o=a(49166),i=a(831675);function r(){return(0,i.l)(`${o.DhI}/current`,e=>(0,n.ff)(e,{throwOnHTTPError:!0}))}},453026:(e,t,a)=>{a.d(t,{FlagUsageProvider:()=>s,p:()=>d});var n=a(523673),o=a(176973),i=a(151089);let r=(0,o.createContext)({reportFlag:()=>void 0,removeFlag:()=>void 0});function s({children:e}){let[t,a]=(0,o.useState)([]),s=(0,o.useMemo)(()=>({reportFlag:e=>{a(t=>[...t,e])},removeFlag:e=>{a(t=>t.filter(t=>e!==t))}}),[]);return(0,n.jsxs)(r.Provider,{value:s,children:[e,(0,n.jsx)(o.Suspense,{fallback:null,children:(0,n.jsx)(i.P,{values:t.reduce((e,t)=>(e[t.key]=t.value,e),{})})})]})}r.displayName="FlagContext";let l=()=>(0,o.useContext)(r),d=(e,t)=>{let{reportFlag:a,removeFlag:n}=l();(0,o.useEffect)(()=>{if(void 0===t)return;let o={key:e,value:t};return a(o),()=>{n(o)}},[e,t,a,n])}},557932:(e,t,a)=>{a.d(t,{BM:()=>P,BZ:()=>_,C$:()=>Z,Gk:()=>D,J_:()=>V,MX:()=>B,Me:()=>O,P3:()=>v,SG:()=>F,Tn:()=>M,WC:()=>f,Yi:()=>N,_1:()=>S,bC:()=>b,cm:()=>R,cz:()=>j,dC:()=>C,iF:()=>U,ix:()=>I,j4:()=>T,jg:()=>h,lu:()=>A,lv:()=>x,mw:()=>w,nD:()=>y,r2:()=>k,yW:()=>E});var n=a(176973),o=a(387853),i=a.n(o),r=a(969131),s=a.n(r),l=a(365596),d=a(453026),c=a(358369),g=a(636026);let u="vercel:ldTeamFlags:v2",m=i()(()=>{let e=l.U.getItem(u);try{if(e)return JSON.parse(e)}catch(e){return{}}}),p=s()(e=>{l.U.setItem(u,JSON.stringify(e))},1e3),f=e=>{let{team:t,isReady:a,mutate:o,allTeamsSlugToFlagsMap:i}=(0,c.dA)(e),r=(0,n.useMemo)(()=>a?i:m(),[i,a]),s=(0,g.S)(),l=s&&r?.[s]||null,d=a&&t?.slug?i?.[t.slug]:null;return(0,n.useEffect)(()=>{a&&(p(i),m.cache.set(void 0,i))},[i,a]),(0,n.useMemo)(()=>({flags:d??l,isReady:!!d||a&&void 0!==r,team:t,mutate:o}),[r,l,d,o,t,a])},b=(e,t)=>{let{flags:a,isReady:n,team:o,mutate:i}=f(t),r=a?a[e]??null:void 0;return(0,d.p)(e,r),{isReady:n,value:r??null,mutate:()=>i().then(t=>({isReady:n,value:t?.teams?.find(e=>e.id===o?.id)?.flags?.[e]??null}))}},_=()=>b("allow-pro-trials-to-use-analytics-for-free"),T=()=>b("new-monorepo-onboarding"),v=()=>b("monitoring-access-override"),h=()=>b("is-oem-partner"),y=()=>b("support-center"),w=()=>b("open-telemetry-api-scope"),D=()=>b("instant-rollback-hobby-restriction"),C=()=>b("ip-blocking"),I=()=>b("cidr-blocking"),S=()=>b("seawall-config"),k=()=>b("pause-team-projects"),P=()=>b("firewall-log-drains"),R=()=>b("firewall-rate-limiting"),E=()=>b("show-invoice-page-payment"),x=()=>b("runtime-logs-extended-timeline"),A=e=>b("git-exclusivity",e),j=()=>b("project-rbac-access-groups"),B=()=>b("northern-lights-pro-trial-banner"),U=()=>b("allow-nodejs-22"),O=()=>b("audit-log-stream"),M=()=>b("secure-compute-environments"),Z=()=>b("rbac-update"),F=()=>b("marketplace-integration-configuration-transfer-to-team"),N=()=>b("ld-on-demand-concurrent-builds-on-pro"),V=()=>b("rolling-releases")},564663:(e,t,a)=>{a.d(t,{P:()=>n});function n(e){return 1e3*(e?.frozenTime??Math.floor(Date.now()/1e3))}},773122:(e,t,a)=>{a.d(t,{P:()=>p,SWRResetState:()=>g,v:()=>m});var n=a(523673),o=a(191152),i=a(125229),r=a(176973);let s=0,l=new Map,d=null,c=null;function g(){let e=(0,i.usePathname)();return(0,r.useEffect)(()=>{s=0,l.clear(),d?.setHiding(),c&&clearTimeout(c)},[e]),null}function u(e){if(c&&clearTimeout(c),d=e,s>1){c=setTimeout(()=>{document.hidden||e.setMessage({key:"fetch-swr-loading",preserve:!0,text:(0,n.jsxs)("div",{style:{display:"flex"},children:[(0,n.jsx)(o.y,{}),(0,n.jsx)("span",{children:"\xa0\xa0Failed to load data, retrying..."})]})})},1e4);return}e.setHiding()}function m(e,t){!document.hidden&&(l.get(e)||(l.set(e,!0),++s,u(t)))}function p(e,t){l.get(e)&&(l.set(e,!1),--s,u(t))}},789805:(e,t,a)=>{a.d(t,{F:()=>o,r:()=>n});var n=function(e){return e.All="*",e.Create="create",e.Delete="delete",e.Read="read",e.Update="update",e.Write="write",e.List="list",e}({}),o=function(e){return e.AccessGroup="accessGroup",e.AliasProtectionBypass="aliasProtectionBypass",e.ProductionAliasProtectionBypass="productionAliasProtectionBypass",e.AnalyticsSampling="analyticsSampling",e.AuditLog="auditLog",e.BillingAddress="billingAddress",e.BillingInformation="billingInformation",e.BillingInvoice="billingInvoice",e.BillingInvoiceEmailRecipient="billingInvoiceEmailRecipient",e.BillingInvoiceLanguage="billingInvoiceLanguage",e.BillingPurchaseOrder="billingPurchaseOrder",e.BillingTaxId="billingTaxId",e.BillingPlan="billingPlan",e.Blob="blob",e.Budget="budget",e.CodeChecks="codeChecks",e.ConcurrentBuilds="concurrentBuilds",e.ConnectConfiguration="connectConfiguration",e.ConnectConfigurationLink="connectConfigurationLink",e.DataCacheBillingSettings="dataCacheBillingSettings",e.RemoteCaching="remoteCaching",e.Deployment="deployment",e.DeploymentCheck="deploymentCheck",e.DeploymentCheckPreivew="deploymentCheckPreview",e.DeploymentFromProductionBranch="deploymentProductionGit",e.DeploymentPreview="deploymentPreview",e.DeploymentRollback="deploymentRollback",e.Domain="domain",e.DomainPurchase="domainPurchase",e.DomainTransferIn="domainTransferIn",e.DomainMove="domainMove",e.DomainAuthCodes="domainAuthCodes",e.DomainRecord="domainRecord",e.DomainCertificate="domainCertificate",e.Environments="environments",e.SensitiveEnvironmentVariablePolicy="sensitiveEnvironmentVariablePolicy",e.EndpointVerification="endpointVerification",e.IpBlocking="ipBlocking",e.TrustedIps="trustedIps",e.ImageOptimizationNewPrice="imageOptimizationNewPrice",e.Integration="integration",e.IntegrationConfiguration="integrationConfiguration",e.IntegrationConfigurationProjects="integrationConfigurationProjects",e.IntegrationConfigurationRole="integrationConfigurationRole",e.IntegrationConfigurationTransfer="integrationConfigurationTransfer",e.IntegrationResource="integrationResource",e.LogDrains="logDrain",e.LogsPreset="logsPreset",e.Logs="logs",e.Monitoring="Monitoring",e.MonitoringSettings="monitoringSettings",e.MonitoringQuery="monitoringQuery",e.MonitoringChart="monitoringChart",e.NotificationDeploymentFailed="notificationDeploymentFailed",e.NotificationDomainConfiguration="notificationDomainConfiguration",e.NotificationDomainExpire="notificationDomainExpire",e.NotificationDomainMove="notificationDomainMoved",e.NotificationDomainPurchase="notificationDomainPurchase",e.NotificationDomainRenewal="notificationDomainRenewal",e.NotificationDomainTransfer="notificationDomainTransfer",e.NotificationDomainUnverified="notificationDomainUnverified",e.NotificationPaymentFailed="notificationPaymentFailed",e.NotificationUsageAlert="notificationUsageAlert",e.ObservabilityConfiguration="observabilityConfiguration",e.ObservabilityData="observabilityData",e.OptionsAllowlist="optionsAllowlist",e.OAuth2Application="oauth2Application",e.PasswordProtection="passwordProtection",e.PaymentMethod="paymentMethod",e.Postgres="postgres",e.PreviewDeploymentSuffix="previewDeploymentSuffix",e.Project="project",e.ProjectDeploymentExpiration="projectDeploymentExpiration",e.ProjectEnvVars="projectEnvVars",e.ProjectEnvVarsProduction="projectEnvVarsProduction",e.ProjectLink="projectLink",e.ProjectTransferIn="projectTransferIn",e.ProjectTransferOut="projectTransferOut",e.ProjectProductionBranch="projectProductionBranch",e.ProjectMember="projectMember",e.ProjectMonitoring="projectMonitoring",e.ProjectProtectionBypass="projectProtectionBypass",e.ProjectTier="projectTier",e.ProjectFlags="projectFlags",e.SamlConfig="samlConfig",e.SeawallConfig="seawallConfig",e.Secrets="secrets",e.SharedEnvVars="sharedEnvVars",e.SharedEnvVarsProduction="sharedEnvVarsProduction",e.SharedEnvVarConnection="sharedEnvVarConnection",e.SkewProtection="skewProtection",e.Space="space",e.SpaceRun="spaceRun",e.SpeedInsights="analytics",e.SupportCase="supportCase",e.Redis="redis",e.Repository="repository",e.Team="team",e.TeamFellowMembership="teamFellowMembership",e.TeamGitExclusivity="teamGitExclusivity",e.TeamInvite="teamInvite",e.TeamMicrofrontends="teamMicrofrontends",e.TeamOwnMembership="teamOwnMembership",e.Usage="usage",e.UsageCycle="usageCycle",e.User="user",e.VPCPeeringConnection="vpcPeeringConnection",e.WebAnalytics="webAnalytics",e.WebAuthn="webAuthn",e.Webhooks="webhook",e.EdgeConfig="edgeConfig",e.EdgeConfigItem="edgeConfigItem",e.EdgeConfigToken="edgeConfigToken",e.RedisStoreTokenSet="redisStoreTokenSet",e.BlobStoreTokenSet="blobStoreTokenSet",e.PostgresStoreTokenSet="postgresStoreTokenSet",e.IntegrationStoreTokenSet="integrationStoreTokenSet",e.IntegrationResourceReplCommand="integrationResourceReplCommand",e.FlagsExplorerSubscription="flagsExplorerSubscription",e}({})},904251:(e,t,a)=>{a.d(t,{g:()=>o});let n=!1;function o(){return!!n||"undefined"!=typeof document&&!!document.hidden}window.addEventListener("beforeunload",()=>{n=!0,setTimeout(()=>{n=!1},50)})},990617:(e,t,a)=>{a.d(t,{ET:()=>w,dK:()=>v,np:()=>y,Yl:()=>h});var n=a(844538),o=a(294370),i=a(468861),r=a(423858),s=a(49166),l=a(358369),d=a(156412),c=a(203840),g=a(789805),u=a(773122),m=a(227557),p=a(904251);let f=(e,t,a)=>{let n;if(!(!(void 0===document.hidden||!document.hidden)||"cancelled"===e.message||(0,p.g)())&&!0!==e.missingToken&&!e.saml){switch(e.code){case"not_found":n=(0,m.A)("30s");break;case"network_error":n=(0,m.A)("10s");break;case"rate_limited":case"too_many_requests":n=(0,m.A)("60s");break;case"not_acceptable":return;default:n=~~((Math.random()+.5)*(1<<Math.min(a.retryCount,8)))*(0,m.A)("5s")}setTimeout(()=>void t(a),n)}},b={bandwidth:["bandwidth_outgoing_bytes","bandwidth_incoming_bytes"],requests:["request_hit_count","request_miss_count"],invocations:["function_invocation_successful_count","function_invocation_error_count","function_invocation_timeout_count"],edgeFunctionExecutionUnits:["edge_function_execution_units"],execution:["function_execution_successful_gb_hours","function_execution_error_gb_hours","function_execution_timeout_gb_hours"],workerInvocations:["worker_invocation_count"],throttles:["function_invocation_throttle_count"],buildTime:["build_build_seconds","build_queued_seconds"],buildNumber:["build_completed_count","build_failed_count"],images:["images_sources_count"],artifactsTaskDuration:["artifacts_downloaded_task_duration_ms","artifacts_local_cache_hit_task_duration_ms"],artifactsSize:["artifacts_downloaded_size_bytes","artifacts_uploaded_size_bytes"],artifactsCount:["artifacts_downloaded_count","artifacts_uploaded_count"],monitoring:["monitoring_metric_count"],edgeConfigReads:["edge_config_reads"],edgeConfigWrites:["edge_config_writes"],postgresDatabase:["postgres_databases"],postgresComputeTime:["postgres_compute_seconds"],postgresDataTransfer:["postgres_transfer_bytes"],postgresWrittenData:["postgres_written_bytes"],storageRedisTotalCommands:["redis_commands"],storageRedisTotalBandwidthInBytes:["redis_bandwidth_max_bytes"],storageRedisTotalDatabases:["redis_databases"],cronJobInvocations:["cron_job_invocations"],dataCacheBandwidth:["data_cache_total_received_bytes","data_cache_total_sent_bytes"],dataCacheRevalidations:["data_cache_total_revalidates"]},_={workerExecutionAvg:["worker_execution_time_avg"],storageRedisTotalDailyAvgStorageInBytes:["redis_storage_max_avg_bytes"],postgresDataStorage:["postgres_storage_byte_hours"]},T={bandwidth:"bandwidth",requests:"requests",invocations:"function_invocations",execution:"function_execution",throttles:"function_throttle_count",workerExecutionAvg:"worker_execution_time_avg",workerInvocations:"worker_invocations",buildTime:"build_time",buildNumber:"build_count",images:"image_sources",artifactsSize:"artifacts_size_breakdown",artifactsCount:"artifacts_count_breakdown",artifactsTaskDuration:"artifacts_time_breakdown",monitoring:"monitoring",edgeConfigReads:"edge_config_reads",edgeConfigWrites:"edge_config_writes",postgresDatabase:"postgres_databases",postgresComputeTime:"postgres_compute_seconds",postgresDataStorage:"postgres_storage_byte_hours",postgresDataTransfer:"postgres_transfer_bytes",postgresWrittenData:"postgres_written_bytes",storageRedisTotalCommands:"redis_commands",storageRedisTotalBandwidthInBytes:"redis_bandwidth_max_bytes",storageRedisTotalDailyAvgStorageInBytes:"redis_storage_max_avg_bytes",storageRedisTotalDatabases:"redis_databases",cronJobInvocations:"cron_job_invocations",dataCacheBandwidth:"data_cache_bandwidth",dataCacheRevalidations:"data_cache_revalidations"},v=e=>({revalidateOnFocus:!1,revalidateOnReconnect:!1,refreshInterval:0,onError:(t,a)=>{let n=t.statusCode||t.status;404===n||403===n||"missing_team_param"===t.code||"cancelled"===t.message||"TypeError"===t.name||(0,p.g)()||"pending"===t.message||(console.table(t),(0,u.v)(a,e),console.error(t))},onSuccess:(t,a)=>{(0,u.P)(a,e)},onErrorRetry:(e,t,a,n,o)=>{if("pending"===e.message)return setTimeout(n,3e3);f(e,n,o)}});function h({type:e,projectId:t=null,storeId:a=null,functionName:c=null,edgeConfigId:g=null,edgeInvocationType:u=null,sourceName:m=null,skip:p=!1,granularity:f,start:h,end:y},w){let{isReady:D,team:C}=(0,l.dA)(),{user:I,isNorthstar:S}=(0,d.Jd)(),k=(0,o.useToasts)();return(0,n.Ay)(()=>D&&I&&h&&y&&!p&&void 0!==t&&void 0!==c&&(!S||I.defaultTeamId||C)?function({type:e,projectId:t=null,storeId:a=null,functionName:n=null,edgeConfigId:o=null,edgeInvocationType:r=null,sourceName:l=null,granularity:d,start:c,end:g,teamId:u}){return`${s.dNn}${(0,i.l)({type:e,teamId:u,projectId:t,storeId:a,edgeConfigId:o,functionName:n,edgeInvocationType:r,sourceName:l,granularity:d,from:"object"==typeof c?c.toISOString():new Date(c).toISOString(),to:"object"==typeof g?g.toISOString():new Date(g).toISOString()})}`}({type:e,projectId:t,storeId:a,functionName:c,edgeConfigId:g,edgeInvocationType:u,sourceName:m,granularity:f,start:h,end:y,teamId:C?.id}):null,async t=>(function({data:e,from:t,to:a,team:n,queryContext:o}){if("pending"in e)throw Error("pending");let i=[];if(e.data.length)for(let t=0;t<e.data.length;t++)i.push(e.data[t]);let r={workerExecutionAvg:"2022-05-24T00:00:00.000Z",postgresDataStorage:"2023-04-01T00:00:00.000Z",storageRedisTotalDailyAvgStorageInBytes:"2023-04-01T00:00:00.000Z"},s={bandwidth:"2021-01-26T00:00:09.000Z",requests:"2021-01-26T00:00:09.000Z",invocations:"2021-02-16T00:00:00.000Z",edgeFunctionExecutionUnits:"2021-02-16T00:00:00.000Z",execution:"2021-02-16T00:00:00.000Z",workerInvocations:"2021-10-22T00:00:00.000Z",throttles:"2021-02-16T00:00:00.000Z",buildTime:"2021-02-19T00:00:00.000Z",buildNumber:"2021-02-19T00:00:00.000Z",images:"2021-07-01T00:00:00.000Z",artifactsTaskDuration:"2021-12-14T00:00:00.000Z",artifactsSize:"2021-12-14T00:00:00.000Z",artifactsCount:"2021-12-14T00:00:00.000Z",monitoring:"2023-03-06T00:00:00.000Z",edgeConfigReads:"2023-03-14T00:00:00.000Z",edgeConfigWrites:"2023-03-14T00:00:00.000Z",postgresDatabase:"2023-04-01T00:00:00.000Z",postgresComputeTime:"2023-04-01T00:00:00.000Z",postgresDataTransfer:"2023-04-01T00:00:00.000Z",postgresWrittenData:"2023-04-01T00:00:00.000Z",storageRedisTotalCommands:"2023-04-01T00:00:00.000Z",storageRedisTotalBandwidthInBytes:"2023-04-01T00:00:00.000Z",storageRedisTotalDatabases:"2023-04-01T00:00:00.000Z",cronJobInvocations:"2023-04-01T00:00:00.000Z",dataCacheBandwidth:"2023-05-01T00:00:00.000Z",dataCacheRevalidations:"2023-05-01T00:00:00.000Z",logDrainsVolume:"2024-05-02T00:00:00.000Z",analyticsUsage:"2021-01-01T00:00:00.000Z",...r},l={edge:new Date(e.lastUpdate).getTime(),builds:new Date(e.lastUpdate).getTime(),images:new Date(e.lastUpdate).getTime(),artifacts:new Date(e.lastUpdate).getTime(),monitoring:new Date(e.lastUpdate).getTime(),edgeConfigReads:new Date(e.lastUpdate).getTime(),edgeConfigWrites:new Date(e.lastUpdate).getTime(),postgresDatabase:new Date(e.lastUpdate).getTime(),postgresComputeTime:new Date(e.lastUpdate).getTime(),postgresDataStorage:new Date(e.lastUpdate).getTime(),postgresDataTransfer:new Date(e.lastUpdate).getTime(),postgresWrittenData:new Date(e.lastUpdate).getTime(),storageRedisTotalCommands:new Date(e.lastUpdate).getTime(),storageRedisTotalBandwidthInBytes:new Date(e.lastUpdate).getTime(),storageRedisTotalDailyAvgStorageInBytes:new Date(e.lastUpdate).getTime(),storageRedisTotalDatabases:new Date(e.lastUpdate).getTime(),cronJobInvocations:new Date(e.lastUpdate).getTime(),dataCacheBandwidth:new Date(e.lastUpdate).getTime(),dataCacheRevalidations:new Date(e.lastUpdate).getTime(),logDrainsVolume:new Date(e.lastUpdate).getTime(),analyticsUsage:new Date(e.lastUpdate).getTime()},d={bandwidth:[],requests:[],invocations:[],edgeFunctionExecutionUnits:[],execution:[],workerInvocations:[],workerExecutionAvg:[],throttles:[],buildTime:[],buildNumber:[],images:[],artifactsTaskDuration:[],artifactsSize:[],artifactsCount:[],monitoring:[],edgeConfigReads:[],edgeConfigWrites:[],postgresDatabase:[],postgresComputeTime:[],postgresDataStorage:[],postgresDataTransfer:[],postgresWrittenData:[],storageRedisTotalCommands:[],storageRedisTotalBandwidthInBytes:[],storageRedisTotalDailyAvgStorageInBytes:[],storageRedisTotalDatabases:[],cronJobInvocations:[],dataCacheBandwidth:[],dataCacheRevalidations:[],logDrainsVolume:[],analyticsUsage:[]},c={bandwidth:[],requests:[],invocations:[],edgeFunctionExecutionUnits:[],execution:[],workerInvocations:[],throttles:[],buildTime:[],buildNumber:[],images:[],artifactsSize:[],artifactsTaskDuration:[],artifactsCount:[],monitoring:[],edgeConfigReads:[],edgeConfigWrites:[],postgresDatabase:[],postgresComputeTime:[],postgresDataTransfer:[],postgresWrittenData:[],storageRedisTotalCommands:[],storageRedisTotalBandwidthInBytes:[],storageRedisTotalDatabases:[],cronJobInvocations:[],dataCacheBandwidth:[],dataCacheRevalidations:[],logDrainsVolume:[],analyticsUsage:[]},g={workerExecutionAvg:[],postgresDataStorage:[],storageRedisTotalDailyAvgStorageInBytes:[]},u={},m={};for(let e=0;e<i.length;e++){let t=i[e];for(let e in b){let a=new Date(t.first_event).getTime(),n={date:new Date(t.date).getTime(),sum:0,0:0,1:0,2:0};if((a||n.date)<Date.parse(s[e]))continue;let o=0;for(let a=0;a<b[e].length;a++){let i=a;n[i]=t[b[e][a]]||0,n.sum+=n[i],t.previous&&(o+=n[i],o-=t.previous[b[e][a]]??0),m[e]=m[e]??{},m[e][a]=(m[e][a]??0)+n[i]}c[e].push(n),u[e]=(u[e]||0)+o}for(let e in _){let a={date:new Date(t.date).getTime(),0:[0,0],1:[0,0],2:[0,0]};for(let n=0;n<_[e].length;n++){let o=(a.date>=Date.parse(r[e])?t[_[e][n]]:void 0)||[0,0];a[n]="number"==typeof o?[o,1]:o}g[e].push(a)}}let p="number"==typeof t?t:t.getTime(),f=p-(("number"==typeof a?a:a.getTime())-p);for(let e in b)new Date(s[e]).getTime()>f&&delete u[e];if(n&&m.buildTime?.[1]&&Math.round(m.buildTime[1]/3600)>=1&&d.buildTime.push({type:"tooManySecondsQueued",secondsQueued:m.buildTime[1],teamSlug:n.slug,warning:!0}),m.invocations?.[1]&&m.invocations[1]>=1&&d.invocations.push({type:"tooManyInvocationErrors",errorCount:m.invocations[1],warning:!0}),m.execution?.[1]&&m.execution[1]>=.01&&d.execution.push({type:"tooManyExecutionErrors",errorTime:m.execution[1],warning:!0}),m.images?.[0]?(!n||n.billing?.plan==="hobby")&&m.images[0]>1e3&&d.images.push({type:"aboveImagesFairUseLimit",optimizedImages:m.images[0],warning:!0}):d.images.push({type:"noImageData",warning:!0}),!n&&"edge"===o.type&&"middleware"===o.edgeInvocationType){let e={sum:0,count:0};for(let t of g.workerExecutionAvg){let{date:a,breakdown:n,...o}=t;for(let[t,a]of Object.values(o))e.sum+=t,e.count+=a}e.sum/e.count>5e4&&d.workerExecutionAvg.push({type:"aboveEdgeMiddlewareCpuTimeFairUseLimit",warning:!0})}let v=Object.entries(T),h=Object.entries({...c,...g});return v.forEach(([t,a])=>{h.forEach(([n,o])=>{if(n===t){let t=e.data.length-o.length;for(let n=0;n<e.data.slice(t).length;n++){let t=e.data[n].breakdown,i=t[a];t&&i&&(o[n].breakdown=i)}}})}),{from:new Date(t),to:new Date(a),granularity:e.granularity,change:u,started:s,lastUpdate:l,insight:d,...c,...g}})({data:await (0,r.ff)(t,{throwOnHTTPError:!0}),from:h,to:y,team:C,queryContext:{type:e,edgeInvocationType:u}}),{...v(k),...w})}function y({type:e,skip:t=!1,start:a,end:d,edgeInvocationType:c}){let{isReady:g,team:u}=(0,l.dA)(),m=(0,o.useToasts)();return(0,n.Ay)(()=>g&&a&&d&&!t?`${s.dNn}${(0,i.l)({type:e,edgeInvocationType:c,teamId:u?.id,from:"object"==typeof a?a.toISOString():new Date(a).toISOString(),to:"object"==typeof d?d.toISOString():new Date(d).toISOString()})}`:null,async e=>{var t=await (0,r.ff)(e);let n={workerExecutionAvg:[]};for(let e of t.data){let t=new Date(e.date).getTime();n.workerExecutionAvg.push({date:t,data:e.worker_execution_time_avg})}return{from:new Date(a),to:new Date(d),granularity:t.granularity,lastUpdate:new Date(t.lastUpdate).getTime(),data:n}},v(m))}function w(e,t){let{isReady:a,team:o}=(0,l.dA)(),{isLoading:d,can:u}=(0,c.Ay)(),m=!d&&u(g.r.Read,g.F.UsageCycle);return(0,n.Ay)(()=>!a||!m||e?.skip?null:`${s.dNn}${(0,i.l)({teamId:o?.id,cycles:"1"})}`,e=>(0,r.ff)(e,{throwOnHTTPError:!0}),t)}}}]);
//# debugId=753521b5-df21-59fe-ac86-82184b8e8b73
